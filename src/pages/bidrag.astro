---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/ButtonGreen.astro";
import Link from "../components/Link.astro";
import { Image } from "astro:assets";
import thumbsup from "../assets/images/thumbsup.png";
import Button_shareresults from "../components/Button_shareresults.astro";
import ButtonGreen from "../components/ButtonGreen.astro";
import Footer from "../components/Footer.astro";
---

<MainLayout title="Del dit bidrag" />
<section class="bg-light-green">
  <div class="flex flex-col justify-center items-center pt-24 md:pt-54">
    <div class="text-center">
      <h1 class="font-bold text-dark-green text-h1_m md:text-h1 sm:mx-auto">
        <span class="block sm:inline">Dit bidrag gør</span>
        <span class="block sm:inline">en forskel!</span>
      </h1>
    </div>
    <div class="text-center pb-20 md:pb-40">
      <h3 class="text-off-white text-h3_m md:text-h3 sm:mx-auto">
        <span class="block sm:inline">Registrer din digitale</span>
        <span class="block sm:inline">oprydning herunder</span>
      </h3>
    </div>
  </div>
  <div class="hidden md:flex flex-row justify-between w-full">
    <div>
      <img src="src/assets/index_illustrations/sq_hero_left.svg" alt="pic1" />
    </div>
    <div>
      <img src="src/assets/index_illustrations/sq_hero_right.svg" alt="pic1" />
    </div>
  </div>
  <div class="flex flex-row justify-between w-full md:hidden">
    <div>
      <img src="src/assets/index_illustrations/sq_bidrag_l.svg" alt="pic1" />
    </div>
    <div>
      <img src="src/assets/index_illustrations/sq_bidrag_r.svg" alt="pic1" />
    </div>
  </div>
</section>

<div class="bg-gray-100 md:pt-10 pb-40">
  <!-- Container for Sections -->
  <div id="form-container" class="flex flex-col justify-center items-center container">
    <!-- Step 1/2 Section -->
    <section id="step-1" class="bg-dark-green p-10 max-w-2xl w-full flex justify-center items-center pb-10">
      <div class="max-w-md w-full">
        <div class="text-center mb-8">
          <h3 id="step-title" class="text-off-white text-h3_m md:text-h3">STEP 1/2</h3>
          <p id="step-description" class="text-off-white text-p_m md:text-p">Udfyld dine kontaktinformationer</p>
        </div>

        <div class="bg-dark-green pb-10">
          <div class="grid grid-cols-1 gap-6">
            <label class="block">
              <input type="text" id="full-name" class="bg-dark-green w-full px-0.5 border-0 border-b border-off-white focus:ring-0 focus:border-light-green pb-3 placeholder-light-green text-off-white" placeholder="Fulde navn" />
            </label>

            <label class="block">
              <input type="text" id="email" class="bg-dark-green w-full px-0.5 border-0 border-b border-off-white focus:ring-0 focus:border-light-green pb-3 placeholder-light-green text-off-white" placeholder="Email" />
            </label>

            <label class="block">
              <select id="country" class="block bg-dark-green w-full px-0.5 border-0 border-b border-off-white focus:ring-0 focus:border-light-green pb-3 text-light-green">
                <option class="text-light-green">Land</option>
                <option class="text-off-white">Danmark</option>
                <option class="text-off-white">Norge</option>
                <option class="text-off-white">Sverige</option>
              </select>
            </label>

            <!-- Additional fields initially hidden -->
            <div id="additional-fields" class="hidden">
              <label class="block">
                <input type="text" class="bg-dark-green w-full px-0.5 border-0 border-b border-off-white focus:ring-0 focus:border-light-green pb-3 placeholder-light-green text-off-white" placeholder="Antal deltagere" />
              </label>

              <label class="block">
                <input type="text" class="bg-dark-green w-full px-0.5 border-0 border-b border-off-white focus:ring-0 focus:border-light-green pb-3 pt-5 placeholder-light-green text-off-white" placeholder="Antal GB slettet" />
              </label>

              <div class="block">
                <div class="mt-8">
                  <div>
                    <label class="inline-flex items-center w-full">
                      <input type="checkbox" class="w-5 h-5 rounded-sm border-off-white text-light-green focus:border-light-green focus:ring-light-green" />
                      <span class="pl-5 pt-3 text-xs text-light-green pb-5">*Jeg accepterer Let's Do It, World vilkår og betingelser</span>
                    </label>

                    <label class="inline-flex items-center w-full">
                      <input type="checkbox" class="w-5 h-5 rounded-sm border-off-white text-light-green focus:border-light-green focus:ring-light-green" />
                      <span class="pl-5 pt-3 text-xs text-light-green pb-5">Jeg vil gerne tilmelde mig nyheder fra World Cleanup Day</span>
                    </label>
                  </div>
                </div>
                <div class="pt-10 text-center shareresults_button">
                  <Button_shareresults>Del dit bidrag</Button_shareresults>
                </div>
              </div>
            </div>

            <div class="text-center mt-10">
              <button id="next-button" class="bg-light-green text-dark-green py-2 px-4 rounded">Næste</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <style>
    .hidden {
      display: none;
    }
    .container {
      max-width: 100%;
    }
  </style>

  <script>
    document.getElementById("next-button").addEventListener("click", function () {
      const fullName = document.getElementById("full-name").value.trim();
      const email = document.getElementById("email").value.trim();
      const country = document.getElementById("country").value.trim();

      if (fullName && email && country) {
        // Show additional fields
        document.getElementById("additional-fields").classList.remove("hidden");
        // Change step title
        document.getElementById("step-title").textContent = "STEP 2/2";
        document.getElementById("step-description").textContent = "Udfyld din digitale oprydning";
        // Hide the next button
        document.getElementById("next-button").style.display = "none";
        document.getElementById("green-container").style.display = "none";
      } else {
        alert("Please fill in all required fields.");
      }
    });
  </script>
</div>

<footer>
  <Footer />
</footer>
